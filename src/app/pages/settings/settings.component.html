<div *ngIf="user == undefined">
  <app-loading></app-loading>
</div>

<div *ngIf="user != undefined" class="background">
  <!-- app-delete-account-dialog -->

  <input
    type="checkbox"
    name="dialog_state"
    id="dialog_state"
    [(ngModel)]="dialog_state_delele_account"
    class="dialog_state"
  />

  <div id="dialog">
    <label id="dlg-back" for="dialog_state"></label>
    <div id="dlg-wrap">
      <app-delete-account-dialog
        [user_id]="user._id"
        (event)="closeDeleteDialog($event)"
      ></app-delete-account-dialog>
    </div>
  </div>

  <!-- MAIN PART -->
  <main class="main_area">
    <app-design-circle [hide_in_small_screen]="true"></app-design-circle>
    <!-- Settings Text and Divider -->
    <div class="content">
      <div class="text">
        <p>Settings</p>

        <div class="divider">
          <hr />
        </div>
      </div>

      <div class="settings-box">
        <!-- form part -->
        <div class="form">
          <form class="box" action="" method="POST">
            <div class="child-box">
              <p>full name</p>
              <input
                type="text"
                name="name"
                placeholder="name"
                [(ngModel)]="user.fullname"
              />
            </div>
            <div class="child-box">
              <p>country</p>
              <input
                type="text"
                name="country"
                placeholder="country"
                [(ngModel)]="user.country"
              />
            </div>
            <div class="child-box">
              <p>city</p>
              <input
                type="text"
                name="city"
                placeholder="city"
                [(ngModel)]="user.city"
              />
            </div>
            <div class="child-box">
              <p>job</p>
              <input
                type="text"
                name="job"
                placeholder="job"
                [(ngModel)]="user.job"
              />
            </div>

            <div class="error">
              <span>{{ error }}</span>
            </div>

            <div class="button-box">
              <input
                *ngIf="!loading"
                type="submit"
                name="submit"
                (click)="save()"
                value="SAVE"
              />

              <div class="spinner" *ngIf="loading">
                <mat-spinner [diameter]="25"></mat-spinner>
              </div>
            </div>
          </form>
        </div>
        <!-- divider -->
        <div class="divider">
          <hr />
        </div>

        <!-- delete button -->
        <label for="dialog_state">
          <div class="delete-account">
            <mat-icon class="icon-delete" aria-label="place">delete</mat-icon>
            <p>DELETE ACCOUNT</p>
          </div>
        </label>
      </div>
    </div>
  </main>
</div>
