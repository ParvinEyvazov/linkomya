<div *ngIf="user_loading">
  <app-loading></app-loading>
</div>

<div *ngIf="!user_loading">
  <div *ngIf="!user">
    <app-not-found></app-not-found>
  </div>

  <div *ngIf="user">
    <div class="page">
      <app-design-circle></app-design-circle>

      <main>
        <div class="background-photo">
          <app-background-photo
            [url]="user.background_photo"
          ></app-background-photo>
        </div>

        <div class="profile-photo">
          <app-profile-photo [url]="user.profile_photo"></app-profile-photo>
        </div>

        <div class="favoriting">
          <app-favoriting [favorite_user_id]="user._id"></app-favoriting>
        </div>

        <!-- information, bio part -->
        <div class="information">
          <div class="name">
            <span>{{ user.fullname }}</span>
            <mat-icon
              *ngIf="user.verified"
              class="icon-verify"
              aria-label="place"
              >verified_user</mat-icon
            >
          </div>

          <div class="country">
            <mat-icon
              class="icon-place"
              aria-label="place"
              *ngIf="user.country || user.city"
              >place</mat-icon
            >
            <p>
              {{ user.country }} {{ user.city && user.country ? "/" : "" }}
              {{ user.city }}
            </p>
          </div>

          <div class="job">
            <mat-icon class="icon-job" aria-label="place" *ngIf="user.job"
              >work</mat-icon
            >
            <p>{{ user.job }}</p>
          </div>
        </div>

        <hr class="divider" />

        <!-- links - main part  -->
        <div class="links" *ngIf="connections">
          <div class="box" *ngFor="let connection of connections">
            <app-link-box [connection]="connection"></app-link-box>
          </div>
        </div>
      </main>
    </div>
  </div>
</div>
